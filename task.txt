Есть входящий источник записей, отражающих изменения в биржевой книге для определенного инструмента:
order_update = {action, id, price, quantity}

action может принимать значения 
new - новый ордер, 
change - изменение ордера (цены или объема), 
delete - удаление ордера из книги;

id - уникальный идентификатор ордера (не обновления);
price - цена;
quantity - объем;

Для простоты пусть
1. На старте биржевая книга будет пустая
2. Цена может считаться целочисленной
3. У книги одна сторона (вообще их две, bid и ask, но в задании - одна, не важно какая).

В результате хочется видеть full price depth order book, состоящую из записей как минимум { price, quantity }
quantity - сумма объемов всех ордеров с ценой price.

1. Должен быть публичный метод, возвращающий quantity по указанной цене.

2. Обновления full price depth order book должны происходить в потоке, отличном от потока - источника записей order_update.

3. В данном задании экземпляров full price depth order book для одного инструмента может быть много.

4. Должна быть возможность добавлять новые/удалять существующие экземпляры full price depth order book в run-time при активном источнике order_update.

5. Должен быть тестовый источник order_update с корректными обновлениями, т.е. не изменять и не удалять несуществующие ордера, без дубликатов id и т.д.

6. Желательно померять пропускную способность решения: кол-во обновлений/сек при различных количествах экземпляров full price depth order book.